## Desktop vars
export DE="lxde"
export DESKTOP_SESSION="LXDE"
export XDG_MENU_PREFIX="lxde-"
export BROWSER="firefox"

## Launches a session dbus instance
if [ -z "$DBUS_SESSION_BUS_ADDRESS" ]; then
   eval $(dbus-launch --sh-syntax --exit-with-session)
fi

## GNUPG agent
eval $(gpg-agent --sh --daemon --enable-ssh-support)
. ~/.gpg-agent-info
export GPG_TTY="$(tty)"

## Remaps CapsLock
setxkbmap -layout us -variant intl -option ctrl:nocaps

## Set keyboard settings - 250 ms delay and 25 cps (characters per second) repeat rate.
## Adjust the values according to your preferances.
xset r rate 250 25

## Turn on/off system beep
xset b off

## Detect and configure touchpad. See 'man synclient' for more info.
if [ egrep -iq 'touchpad|trackpad' /proc/bus/input/devices ]; then
    synclient ClickFinger2=3
    synclient ClickFinger3=2
    synclient RightButtonAreaLeft=0
    synclient RightButtonAreaTop=0
    synclient VertScrollDelta=-111
    synclient HorizScrollDelta=-111
    synclient VertHysteresis=40
    synclient HorizHysteresis=40
    synclient TapButton1=0
    synclient TapButton2=0
    synclient TapButton3=0
    synclient PalmDetect=1
fi

## Restore screen layout
if [ -e ~/.screenlayout/default.sh ]; then
    ~/.screenlayout/default.sh &
fi

## Set root window colour
hsetroot -solid "#2E3436" &

## Restore wallpaper
nitrogen --restore &

## Start xscreensaver
xscreensaver -no-splash &

## Set urxvt settings
xrdb -merge ~/.Xresources &

## Start PCManFM Daemon
pcmanfm --daemon-mode &

## Run bittorrent sync
btsync --config .config/btsync/sync.conf &

## Run an emacs instance
emacs --daemon
